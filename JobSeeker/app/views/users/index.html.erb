<p style="color: green"><%= notice %></p>

<h1>My classfields</h1>

<%= link_to "Posted Jobs", user_classfields_path %>
<%= link_to "Job applications", user_applications_path%>
<%= form_with url: user_classfields_path, method: :get, local: true do%>
  <div class="field">
    <%= label_tag :tag_id, "Filter by tag" %>
    <%= select_tag :tag_id, options_from_collection_for_select(Tag.all, :id, :name, selected: params[:tag_id]),  multiple: true%>
  </div>
  <div class="actions">
    <%= submit_tag "Filter" %>
  </div>
<% end %>
<% if @classfields.any? %>
  <div class="classfields">
    <% @classfields.each do |classfield| %>
      <h3><%= classfield.title %></h2>
      <p><strong>Creator:</strong> <%= classfield.user.name %></p>
      <p><strong>Description:</strong> <%= classfield.description %></p>
      <p>
        <%= link_to "View details", classfield_path(classfield), data: {turbo_frame: "modal"} %>
      </p>
    <% end %>
  </div>

<% else %>
  <p>No classfields avaliable</p>
<% end %>

<%= link_to "New classfield", new_classfield_path %>
